<!DOCTYPE html>
<html>
<head>
	<title>LAN Social Network - Connecting Gamers</title>
<link href='../css/lan-style.css' rel='stylesheet'>
<link href='../css/font-awesome/css/font-awesome.min.css' rel='stylesheet'>


</head>
<navbar-directive></navbar-directive>
<body>
	<div class='content'>

		<div class='box'>
		<div class="general">
				<h1>User Profile: {{profile.username}}</h1>
			<img ng-src="{{profile.user_avatar}}" style="border-radius:25px;height:150px;width:150px"><br/><br/>

		<strong>Status</strong ng-cloak>:{{profile.status === 0 ? "Offline" : "Online"}}<br/><br/>

		<button ng-cloak ng-show="isNotCurrentUser" class="lan-btn ng-hide" ng-click="sendFriendRequest()">Send Friend Request</button>
		<button class="lan-btn ng-hide" ng-show="isNotCurrentUser" ng-click="writingMessage = true;">Send Message</button><br/>
		<button ng-cloak ng-show="isNotCurrentUser" class="lan-btn ng-hide">Delete Friend</button> 
		<br/>
		<br/>


			<strong>What {{profile.username === currentUser ? "you've " : profile.username +" has "}}been playing</strong><br/>
<div ng-controller="gameListController">
			<div ng-show="hasGames" class="ng-hide" >
				<table class="table-container">
				<tr class="table-header"><th>#</th><th>Title</th><th>Rating</th><th>Summary</th></tr>
				<tr ng-repeat="game in games" class="table-row"><td>{{$index + 1}}</td><td>{{game.title}}</td><td>{{game.rating}}</td><td>{{game.summary}}</td>
				<td><button ng-show="isCurrentUser" class="msg-btn ng-hide" ng-click="deleteGame($index, game.id)" style="background-color:#d9534f">Delete</button></td></tr>
			</table>
			</div>
			<div ng-show="showAddGames"  class="ng-hide">
				<button ng-show="isCurrentUser"class="msg-btn ng-hide" ng-click="addingGame = true;">Add a game</button>
				</div>
				

		


	

<!-- The Modal -->
<div ng-show="addingGame" class="modal ng-hide">

  <!-- Modal content -->
  <div class="modal-content">
    <div class="modal-header">
      <h2 ng-bind="addTitle"></h2>
    </div>
    <div class="modal-body input-group" style="background-color: #6a7989">
     
						<label class="add-game-label">Title</label>
						<input class="add-game-input"  ng-model="addTitle" type="text" />
						<label class="add-game-label">Rating</label>
						<select class="add-game-input" ng-model="addRating" ng-options="item for item in ratings"></select>
						<label class="add-game-label">What you think about it</label>
						<textarea ng-model="addSummary" cols="25" rows="7" class="add-game-input"></textarea>
			
    </div>
    <div class="modal-footer">
      <button class="msg-btn" ng-click="addGame()">Submit</button><button class="msg-btn" ng-click="addingGame = false;">Cancel</button>
    </div>
  </div>

</div>
</div>

<!-- The Modal -->
<div ng-show="writingMessage" class="modal ng-hide">

  <!-- Modal content -->
  <div class="modal-content">
    <div class="modal-header">
      <h2>To: {{profile.username}}</h2>
    </div>
    <div class="modal-body">
      <input ng-bind="messageBody" type="text" class="msg-body"/>
    </div>
    <div class="modal-footer">
      <button class="msg-btn" ng-click="sendMessage()">Submit</button><button class="msg-btn" ng-click="writingMessage = false;">Cancel</button>
    </div>
  </div>

</div>
</div>
	</div>
<script src='../extensions/angular/angular.min.js'></script>
<script src='../extensions/angular/angular-resource.min.js'></script>
<script src='../extensions/angular/route.js'></script>
<script src='../scripts/app.js'></script>
</body>

</html>